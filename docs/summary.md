The codebase implements a document storage service with an API for creating, retrieving, updating, and deleting documents. Documents are associated with subjects and versions, and each version contains a file. The API allows for uploading new versions of existing documents and retrieving the content of a specific version. The service also includes a Kafka producer for publishing document events, such as creation, update, and deletion. The codebase uses Paperclip for file attachment management and AvroTurf for message serialization. 